Metadata-Version: 2.4
Name: bor-sdk
Version: 0.1.0
Summary: Blockchain of Reasoning (BoR): Deterministic, Replay-Verifiable Proof-of-Logic SDK
Author: Kushagra Bhatnagar
License: MIT
Project-URL: Homepage, https://github.com/kushagra-bhatnagar/bor-sdk
Project-URL: Documentation, https://github.com/kushagra-bhatnagar/bor-sdk#readme
Project-URL: Issues, https://github.com/kushagra-bhatnagar/bor-sdk/issues
Keywords: deterministic,blockchain,reasoning,verifiability
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Dynamic: license-file

# BoR-Proof SDK â€” Public, Replay-Verifiable Reasoning

**One-click, cryptographically verifiable proofs of reasoning.**  
Builds on your BoR SDK: Pâ‚€â€“Pâ‚„ primary proofs + 8 sub-proofs; bundles them into a single artifact (`rich_proof_bundle.json`) with master commitment **H_RICH**.

## âœ¨ What you get

- **Pâ‚€** Init proof (env + inputs)  
- **Pâ‚** Step proofs (per-step fingerprints)  
- **Pâ‚‚** Master proof (**HMASTER**)  
- **Pâ‚ƒ** Deterministic replay verify  
- **Pâ‚„** Persistence integrity (**H_store**)  
- **8 Sub-Proofs:** DIP, DP, PEP, PoPI, CCP, CMIP, PP, TRP  
- **Bundle:** `rich_proof_bundle.json` + `rich_proof_index.json`  
- **CLI:** `borp prove`, `borp verify`, `borp verify-bundle`, `borp persist`, `borp show`

## ğŸš€ Quickstart (5 commands)

```bash
# 0) Install in editable mode
python -m pip install -e .

# 1) Generate a proof bundle (uses example stages)
borp prove --all \
  --initial '7' \
  --config '{"offset": 4}' \
  --version 'v1.0' \
  --stages examples.demo:add examples.demo:square \
  --outdir out

# 2) Verify bundle fast (structure + digests)
borp verify-bundle --bundle out/rich_proof_bundle.json

# 3) (Optional) Strong verify â€” includes replay
borp verify-bundle --bundle out/rich_proof_bundle.json \
  --initial '7' --config '{"offset":4}' --version 'v1.0' \
  --stages examples.demo:add examples.demo:square

# 4) Human-readable trace
borp show --trace out/rich_proof_bundle.json --from bundle
```

## ğŸ“¦ Artifact anatomy

* `primary.master` = **HMASTER** (chain identity)
* `subproofs/*` â†’ each hashed, collected into **H_RICH**
* `rich_proof_index.json` = minimal `{H_RICH, subproof_hashes}`
* `*.json.p4.json` (sidecar) stores `H_store` + timestamp

## ğŸ§ª Tests

```bash
pytest -q    # 88/88 passing
```

## ğŸ” Determinism & Purity

All steps are pure functions `f(state, C, V) -> state'`.  
Encoding is canonical JSON (sorted keys, fixed float print, UTF-8).

## ğŸ“‹ Proof Chain

### Primary Proofs (Pâ‚€â€“Pâ‚„)

| Proof | Description | Output |
|-------|-------------|--------|
| **Pâ‚€** | Initialization | H(Sâ‚€, C, V, env) â†’ H0 |
| **Pâ‚** | Step-level | hâ‚, hâ‚‚, ..., hâ‚™ |
| **Pâ‚‚** | Master aggregation | HMASTER = H("P2\|hâ‚\|...\|hâ‚™") |
| **Pâ‚ƒ** | Verification | Replay + compare HMASTER |
| **Pâ‚„** | Persistence | H_store = H(bytes \|\| timestamp) |

### Sub-proofs (8 total)

| Sub-proof | Validates |
|-----------|-----------|
| **DIP** | Deterministic Identity: identical runs â†’ same HMASTER |
| **DP** | Divergence: perturbation â†’ different HMASTER |
| **PEP** | Purity Enforcement: @step rejects invalid signatures |
| **PoPI** | Proof-of-Proof Integrity: SHA-256(primary JSON) |
| **CCP** | Canonicalization Consistency: dict order invariance |
| **CMIP** | Cross-Module Integrity: core/verify/store agree |
| **PP** | Persistence: JSON + SQLite H_store equivalence |
| **TRP** | Temporal Reproducibility: time-invariant HMASTER |

**H_RICH** = SHA-256 of sorted concatenation of all sub-proof hashes.

## ğŸ—ºï¸ CLI Commands

### Generate Proof Bundle

```bash
borp prove --all \
  --initial '<S0>' \
  --config '<C_json>' \
  --version '<V>' \
  --stages <module:fn1> <module:fn2> ... \
  --outdir <directory>
```

Creates `rich_proof_bundle.json` and `rich_proof_index.json`.

### Verify Primary Proof

```bash
borp verify --primary <file> \
  --initial '<S0>' \
  --config '<C_json>' \
  --version '<V>' \
  --stages <module:fn1> <module:fn2> ...
```

Replays reasoning chain and compares HMASTER. Exit: 0=success, 1=mismatch, 2=error.

### Verify Rich Bundle

```bash
borp verify-bundle --bundle <file> \
  [--initial '<S0>' --config '<C_json>' --version '<V>' \
   --stages <module:fn1> <module:fn2> ...]
```

Validates structure, sub-proof hashes, and H_RICH. Optionally replays primary if stages provided.

### Persist with Pâ‚„

```bash
borp persist --label <label> --primary <file> \
  --backend <json|sqlite|both> [--root <dir>]
```

Saves proof with H_store integrity metadata.

### Show Trace

```bash
borp show --trace <file> --from <primary|bundle>
```

Renders human-readable step-by-step trace.

## ğŸ—ï¸ Architecture

```
bor/
â”œâ”€â”€ core.py          # BoRRun, BoRStep, Proof (Pâ‚€-Pâ‚‚)
â”œâ”€â”€ decorators.py    # @step with purity enforcement (Pâ‚)
â”œâ”€â”€ hash_utils.py    # Canonical encoding + env fingerprint (Pâ‚€)
â”œâ”€â”€ store.py         # JSON/SQLite persistence (Pâ‚„)
â”œâ”€â”€ verify.py        # Replay, verification, bundle check, trace (Pâ‚ƒ, Phase F)
â”œâ”€â”€ subproofs.py     # All 8 sub-proofs (DIPâ†’TRP)
â”œâ”€â”€ bundle.py        # Bundle builder + index
â””â”€â”€ cli.py           # Complete CLI interface

examples/
â””â”€â”€ demo.py          # Simple demonstration stages

tests/
â”œâ”€â”€ test_p0_init.py                    # Pâ‚€ tests
â”œâ”€â”€ test_p1_steps.py                   # Pâ‚ tests
â”œâ”€â”€ test_p2_master.py                  # Pâ‚‚ tests
â”œâ”€â”€ test_p3_verify.py                  # Pâ‚ƒ tests
â”œâ”€â”€ test_p4_persistence.py             # Pâ‚„ tests
â”œâ”€â”€ test_e_subproofs_bundle.py         # E1 sub-proof tests
â”œâ”€â”€ test_e2_remaining_subproofs.py     # E2 sub-proof tests
â””â”€â”€ test_f_bundle_verify_and_trace.py  # Bundle verification tests
```

## ğŸ”¬ For Verifiers

To independently verify a proof bundle:

```bash
# 1. Clone repo + install
git clone <repo> && cd <repo>
python -m pip install -e .

# 2. Obtain proof bundle (from prover or public storage)
# bundle: rich_proof_bundle.json

# 3. Fast verify (no code execution)
borp verify-bundle --bundle rich_proof_bundle.json
# â†’ Validates H_RICH + all sub-proof hashes

# 4. Strong verify (with replay - requires source code)
borp verify-bundle --bundle rich_proof_bundle.json \
  --initial '<S0>' --config '<C>' --version '<V>' \
  --stages <module:fn> ...
# â†’ Recomputes HMASTER from scratch

# 5. Inspect reasoning
borp show --trace rich_proof_bundle.json --from bundle
```

**No trust in executor required.** The bundle is self-contained and cryptographically verifiable.

## ğŸ“– Documentation

- [CHANGELOG.md](CHANGELOG.md) - Version history
- [SECURITY.md](SECURITY.md) - Security policy
- [CONTRIBUTING.md](CONTRIBUTING.md) - Contribution guidelines

## ğŸ§¬ Related

* Base SDK: BOR-SDK (deterministic reasoning substrate)
* This repo: BoR-Proof SDK (proof generation & verification)

## ğŸ“„ License

MIT

## ğŸ™ Acknowledgments

Built on the Blockchain of Reasoning (BoR) framework for deterministic, verifiable AI reasoning.
